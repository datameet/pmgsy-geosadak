{"mappings":"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","sources":["node_modules/jxon/index.js","node_modules/geojsontoosm/index.js","node_modules/osm-and-geojson/osm_geojson.js","src/map.js"],"sourcesContent":["/*\n * JXON framework - Copyleft 2011 by Mozilla Developer Network\n *\n * Revision #1 - September 5, 2014\n *\n * https://developer.mozilla.org/en-US/docs/JXON\n *\n * This framework is released under the GNU Public License, version 3 or later.\n * http://www.gnu.org/licenses/gpl-3.0-standalone.html\n *\n * small modifications performed by the iD project:\n * https://github.com/openstreetmap/iD/commits/18aa33ba97b52cacf454e95c65d154000e052a1f/js/lib/jxon.js\n *\n * small modifications performed by user @bugreport0\n * https://github.com/tyrasd/JXON/pull/2/commits\n *\n * some additions and modifications by user @igord\n * https://github.com/tyrasd/JXON/pull/5/commits\n *\n * adapted for nodejs and npm by Martin Raifer <tyr.asd@gmail.com>\n */\n\n /*\n  * Modifications:\n  * - added config method that excepts objects with props:\n  *   - valueKey (default: keyValue)\n  *   - attrKey (default: keyAttributes)\n  *   - attrPrefix (default: @)\n  *   - lowerCaseTags (default: true)\n  *   - trueIsEmpty (default: true)\n  *   - autoDate (default: true)\n  * - turning tag and attributes to lower case is optional\n  * - optional turning boolean true to empty tag\n  * - auto Date parsing is optional\n  * - added parseXml method\n  *\n*/\n\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(factory(window));\n    } else if (typeof exports === 'object') {\n        if (typeof window === 'object' && window.DOMImplementation) {\n            // Browserify. hardcode usage of browser's own XMLDom implementation\n            // see https://github.com/tyrasd/jxon/issues/18\n            module.exports = factory(window);\n        } else {\n            // Node. Does not work with strict CommonJS, but\n            // only CommonJS-like environments that support module.exports,\n            // like Node.\n            module.exports = factory(require('xmldom'));\n        }\n    } else {\n        // Browser globals (root is window)\n        root.JXON = factory(window);\n    }\n}(this, function (xmlDom) {\n\n    return new (function () {\n      var\n        sValProp = \"keyValue\",\n        sAttrProp = \"keyAttributes\",\n        sAttrsPref = \"@\",\n        sLowCase = true,\n        sEmptyTrue = true,\n        sAutoDate = true,\n        sIgnorePrefixed = false,\n        parserErrorHandler,\n        DOMParser,\n        sParseValues = true, /* you can customize these values */\n        aCache = [], rIsNull = /^\\s*$/, rIsBool = /^(?:true|false)$/i;\n\n      function parseText (sValue) {\n        if (!sParseValues) return sValue;\n        if (rIsNull.test(sValue)) { return null; }\n        if (rIsBool.test(sValue)) { return sValue.toLowerCase() === \"true\"; }\n        if (isFinite(sValue)) { return parseFloat(sValue); }\n        if (sAutoDate && isFinite(Date.parse(sValue))) { return new Date(sValue); }\n        return sValue;\n      }\n\n      function EmptyTree () { }\n      EmptyTree.prototype.toString = function () { return \"null\"; };\n      EmptyTree.prototype.valueOf = function () { return null; };\n\n      function objectify (vValue) {\n        return vValue === null ? new EmptyTree() : vValue instanceof Object ? vValue : new vValue.constructor(vValue);\n      }\n\n      function createObjTree (oParentNode, nVerb, bFreeze, bNesteAttr) {\n        var\n          nLevelStart = aCache.length, bChildren = oParentNode.hasChildNodes(),\n          bAttributes = oParentNode.nodeType === oParentNode.ELEMENT_NODE && oParentNode.hasAttributes(), bHighVerb = Boolean(nVerb & 2);\n\n        var\n          sProp, vContent, nLength = 0, sCollectedTxt = \"\",\n          vResult = bHighVerb ? {} : /* put here the default value for empty nodes: */ (sEmptyTrue ? true : '');\n\n        if (bChildren) {\n          for (var oNode, nItem = 0; nItem < oParentNode.childNodes.length; nItem++) {\n            oNode = oParentNode.childNodes.item(nItem);\n            if (oNode.nodeType === 4) { sCollectedTxt += oNode.nodeValue; } /* nodeType is \"CDATASection\" (4) */\n            else if (oNode.nodeType === 3) { sCollectedTxt += oNode.nodeValue.trim(); } /* nodeType is \"Text\" (3) */\n            else if (oNode.nodeType === 1 && !(sIgnorePrefixed && oNode.prefix)) { aCache.push(oNode); } /* nodeType is \"Element\" (1) */\n          }\n        }\n\n        var nLevelEnd = aCache.length, vBuiltVal = parseText(sCollectedTxt);\n\n        if (!bHighVerb && (bChildren || bAttributes)) { vResult = nVerb === 0 ? objectify(vBuiltVal) : {}; }\n\n        for (var nElId = nLevelStart; nElId < nLevelEnd; nElId++) {\n          sProp = aCache[nElId].nodeName;\n          if (sLowCase) sProp = sProp.toLowerCase();\n          vContent = createObjTree(aCache[nElId], nVerb, bFreeze, bNesteAttr);\n          if (vResult.hasOwnProperty(sProp)) {\n            if (vResult[sProp].constructor !== Array) { vResult[sProp] = [vResult[sProp]]; }\n            vResult[sProp].push(vContent);\n          } else {\n            vResult[sProp] = vContent;\n            nLength++;\n          }\n        }\n\n        if (bAttributes) {\n          var\n            nAttrLen = oParentNode.attributes.length,\n            sAPrefix = bNesteAttr ? \"\" : sAttrsPref, oAttrParent = bNesteAttr ? {} : vResult;\n\n          for (var oAttrib, oAttribName, nAttrib = 0; nAttrib < nAttrLen; nLength++, nAttrib++) {\n            oAttrib = oParentNode.attributes.item(nAttrib);\n            oAttribName = oAttrib.name;\n            if (sLowCase) oAttribName = oAttribName.toLowerCase();\n            oAttrParent[sAPrefix + oAttribName] = parseText(oAttrib.value.trim());\n          }\n\n          if (bNesteAttr) {\n            if (bFreeze) { Object.freeze(oAttrParent); }\n            vResult[sAttrProp] = oAttrParent;\n            nLength -= nAttrLen - 1;\n          }\n        }\n\n        if (nVerb === 3 || (nVerb === 2 || nVerb === 1 && nLength > 0) && sCollectedTxt) {\n          vResult[sValProp] = vBuiltVal;\n        } else if (!bHighVerb && nLength === 0 && sCollectedTxt) {\n          vResult = vBuiltVal;\n        }\n\n        if (bFreeze && (bHighVerb || nLength > 0)) { Object.freeze(vResult); }\n\n        aCache.length = nLevelStart;\n\n        return vResult;\n      }\n\n      function loadObjTree (oXMLDoc, oParentEl, oParentObj) {\n        var vValue, oChild;\n\n        if (oParentObj.constructor === String || oParentObj.constructor === Number || oParentObj.constructor === Boolean) {\n          oParentEl.appendChild(oXMLDoc.createTextNode(oParentObj.toString())); /* verbosity level is 0 or 1 */\n          if (oParentObj === oParentObj.valueOf()) { return; }\n        } else if (oParentObj.constructor === Date) {\n          oParentEl.appendChild(oXMLDoc.createTextNode(oParentObj.toGMTString()));\n        }\n\n        for (var sName in oParentObj) {\n          vValue = oParentObj[sName];\n          if (vValue === null) vValue = {};\n          if (isFinite(sName) || vValue instanceof Function) { continue; } /* verbosity level is 0 */\n          // when it is _\n          if (sName === sValProp) {\n            if (vValue !== null && vValue !== true) { oParentEl.appendChild(oXMLDoc.createTextNode(vValue.constructor === Date ? vValue.toGMTString() : String(vValue))); }\n          } else if (sName === sAttrProp) { /* verbosity level is 3 */\n            for (var sAttrib in vValue) { oParentEl.setAttribute(sAttrib, vValue[sAttrib]); }\n          } else if (sName === sAttrsPref+'xmlns') {\n            // do nothing: special handling of xml namespaces is done via createElementNS()\n          } else if (sName.charAt(0) === sAttrsPref) {\n            oParentEl.setAttribute(sName.slice(1), vValue);\n          } else if (vValue.constructor === Array) {\n            for (var nItem = 0; nItem < vValue.length; nItem++) {\n              oChild = oXMLDoc.createElementNS(vValue[nItem][sAttrsPref+'xmlns'] || oParentEl.namespaceURI, sName);\n              loadObjTree(oXMLDoc, oChild, vValue[nItem]);\n              oParentEl.appendChild(oChild);\n            }\n          } else {\n            oChild = oXMLDoc.createElementNS((vValue || {})[sAttrsPref+'xmlns'] || oParentEl.namespaceURI, sName);\n            if (vValue instanceof Object) {\n              loadObjTree(oXMLDoc, oChild, vValue);\n            } else if (vValue !== null && vValue !== true) {\n              oChild.appendChild(oXMLDoc.createTextNode(vValue.toString()));\n            } else if (!sEmptyTrue && vValue === true) {\n              oChild.appendChild(oXMLDoc.createTextNode(vValue.toString()));\n\n            }\n            oParentEl.appendChild(oChild);\n          }\n        }\n      }\n\n      this.xmlToJs = this.build = function (oXMLParent, nVerbosity /* optional */, bFreeze /* optional */, bNesteAttributes /* optional */) {\n        var _nVerb = arguments.length > 1 && typeof nVerbosity === \"number\" ? nVerbosity & 3 : /* put here the default verbosity level: */ 1;\n        return createObjTree(oXMLParent, _nVerb, bFreeze || false, arguments.length > 3 ? bNesteAttributes : _nVerb === 3);\n      };\n\n      this.jsToXml = this.unbuild = function (oObjTree, sNamespaceURI /* optional */, sQualifiedName /* optional */, oDocumentType /* optional */) {\n        var documentImplementation = xmlDom.document && xmlDom.document.implementation || new xmlDom.DOMImplementation();\n        var oNewDoc = documentImplementation.createDocument(sNamespaceURI || null, sQualifiedName || \"\", oDocumentType || null);\n        loadObjTree(oNewDoc, oNewDoc.documentElement || oNewDoc, oObjTree);\n        return oNewDoc;\n      };\n\n      this.config = function(o) {\n        if (typeof o === 'undefined') {\n            return {\n                valueKey: sValProp,\n                attrKey: sAttrProp,\n                attrPrefix: sAttrsPref,\n                lowerCaseTags: sLowCase,\n                trueIsEmpty: sEmptyTrue,\n                autoDate: sAutoDate,\n                ignorePrefixNodes: sIgnorePrefixed,\n                parseValues: sParseValues,\n                parserErrorHandler: parserErrorHandler\n            };\n        }\n        for (var k in o) {\n          switch(k) {\n            case 'valueKey':\n              sValProp = o.valueKey;\n              break;\n            case 'attrKey':\n              sAttrProp = o.attrKey;\n              break;\n            case 'attrPrefix':\n              sAttrsPref = o.attrPrefix;\n              break;\n            case 'lowerCaseTags':\n              sLowCase = o.lowerCaseTags;\n              break;\n            case 'trueIsEmpty':\n              sEmptyTrue = o.trueIsEmpty;\n              break;\n            case 'autoDate':\n              sAutoDate = o.autoDate;\n              break;\n            case 'ignorePrefixedNodes':\n              sIgnorePrefixed = o.ignorePrefixedNodes;\n              break;\n            case 'parseValues':\n              sParseValues = o.parseValues;\n              break;\n            case 'parserErrorHandler':\n              parserErrorHandler = o.parserErrorHandler;\n              DOMParser = new xmlDom.DOMParser({\n                  errorHandler: parserErrorHandler,\n                  locator: {}\n              });\n              break;\n            default:\n              break;\n          }\n        }\n      };\n\n      this.stringToXml = function(xmlStr) {\n        if (!DOMParser) DOMParser = new xmlDom.DOMParser();\n        return DOMParser.parseFromString(xmlStr, 'application/xml');\n      };\n\n      this.xmlToString = function (xmlObj) {\n        if (typeof xmlObj.xml !== \"undefined\") {\n          return xmlObj.xml;\n        } else {\n          return (new xmlDom.XMLSerializer()).serializeToString(xmlObj);\n        }\n      };\n\n      this.stringToJs = function(str) {\n        var xmlObj = this.stringToXml(str);\n        return this.xmlToJs(xmlObj);\n      };\n\n      this.jsToString = this.stringify = function(oObjTree, sNamespaceURI /* optional */, sQualifiedName /* optional */, oDocumentType /* optional */) {\n        return this.xmlToString(\n          this.jsToXml(oObjTree, sNamespaceURI, sQualifiedName, oDocumentType)\n        );\n      };\n    })();\n\n}));\n","var jxon = require('jxon');\n\n\nfunction geojsontoosm(geojson) {\n    var features = geojson.features || (geojson.length>0 ? geojson : [geojson])\n\n    var nodes = [], nodesIndex = {},\n        ways = [],\n        relations = [];\n\n    features.forEach(function(feature) { // feature can also be a pure GeoJSON geometry object\n        // todo: GeometryCollection?\n        var properties = feature.properties || {},\n            geometry = feature.geometry || feature\n        // todo: validity check\n        // todo: ids if (feature.id && feature.id.match(/^(node|way|relation)\\/(\\d+)$/)) id = …\n        switch (geometry.type) {\n        case \"Point\":\n            processPoint(geometry.coordinates, properties, nodes, nodesIndex)\n        break;\n        case \"LineString\":\n            processLineString(geometry.coordinates, properties, ways, nodes, nodesIndex)\n        break;\n        case \"Polygon\":\n            processMultiPolygon([geometry.coordinates], properties, relations, ways, nodes, nodesIndex)\n        break;\n        case \"Multipolygon\":\n            processMultiPolygon(geometry.coordinates, properties, relations, ways, nodes, nodesIndex)\n        break;\n        default:\n            console.error(\"unknown or unsupported geometry type:\", geometry.type);\n        }\n    });\n\n    //console.log(nodes, ways, relations)\n    var lastNodeId = -1,\n        lastWayId = -1,\n        lastRelationId = -1\n    function jxonTags(tags) {\n        var res = []\n        for (var k in tags) {\n            res.push({\n                \"@k\": k,\n                \"@v\": tags[k]\n            })\n        }\n        return res\n    }\n    var jxonData = {\n        osm: {\n            \"@version\": \"0.6\",\n            \"@generator\": \"geojsontoosm\",\n            \"node\": nodes.map(function(node) {\n                node.id = lastNodeId--\n                return {\n                    \"@id\": node.id,\n                    \"@lat\": node.lat,\n                    \"@lon\": node.lon,\n                    // todo: meta\n                    \"tag\": jxonTags(node.tags)\n                }\n            }),\n            \"way\": ways.map(function(way) {\n                way.id = lastWayId--\n                return {\n                    \"@id\": way.id,\n                    \"nd\": way.nodes.map(function(nd) { return {\"@ref\": nd.id} }),\n                    \"tag\": jxonTags(way.tags)\n                }\n            }),\n            \"relation\": relations.map(function(relation) {\n                relation.id = lastRelationId--\n                return {\n                    \"@id\": relation.id,\n                    \"member\": relation.members.map(function(member) {\n                        return {\n                            \"@type\": member.type,\n                            \"@ref\": member.elem.id,\n                            \"@role\": member.role\n                        }\n                    }),\n                    \"tag\": jxonTags(relation.tags)\n                    // todo: meta\n                }\n            })\n        } \n    }\n    // todo: sort by id\n    return jxon.jsToString(jxonData)\n}\n\nfunction getNodeHash(coords) {\n    return JSON.stringify(coords)\n}\nfunction emptyNode(coordinates, properties) {\n    return {\n        tags: properties,\n        lat: coordinates[1],\n        lon: coordinates[0]\n    }\n    // todo: meta\n    // todo: move \"nodesIndex[hash] = node\" here\n}\n\nfunction processPoint(coordinates, properties, nodes, nodesIndex) {\n    var hash = getNodeHash(coordinates),\n        node\n    if (!(node = nodesIndex[hash])) {\n        nodes.push(node = emptyNode(coordinates, properties))\n        nodesIndex[hash] = node\n    } else {\n        for (var k in properties) {\n            node.tags[k] = properties[k]\n        }\n        // todo: meta\n    }\n}\n\nfunction processLineString(coordinates, properties, ways, nodes, nodesIndex) {\n    var way = {\n        tags: properties,\n        nodes: []\n    }\n    ways.push(way)\n    // todo: meta\n    coordinates.forEach(function(point) {\n        var hash = getNodeHash(point),\n            node\n        if (!(node = nodesIndex[hash])) {\n            nodes.push(node = emptyNode(point, {}))\n            nodesIndex[hash] = node\n        }\n        way.nodes.push(node)\n    })\n}\n\nfunction processMultiPolygon(coordinates, properties, relations, ways, nodes, nodesIndex) {\n    // simple area with only 1 ring: -> closed way\n    if (coordinates.length === 1 && coordinates[0].length === 1)\n        return processLineString(coordinates[0][0], properties, ways, nodes, nodesIndex)\n    // multipolygon\n    var relation = {\n        tags: properties,\n        members: []\n    }\n    relation.tags[\"type\"] = \"multipolygon\"\n    relations.push(relation)\n    // todo: meta\n    coordinates.forEach(function(polygon) {\n        polygon.forEach(function(ring, index) {\n            var way = {\n                tags: {},\n                nodes: []\n            }\n            ways.push(way)\n            relation.members.push({\n                elem: way,\n                type: \"way\",\n                role: index===0 ? \"outer\" : \"inner\"\n            })\n            ring.forEach(function(point) {\n                var hash = getNodeHash(point),\n                    node\n                if (!(node = nodesIndex[hash])) {\n                    nodes.push(node = emptyNode(point, {}))\n                    nodesIndex[hash] = node\n                }\n                way.nodes.push(node)\n            })\n        })\n    })\n}\n\nmodule.exports = geojsontoosm;\n","var osm_geojson = {};\n\nosm_geojson.geojson2osm = function(geo, changeset, osmChange) {\n    function togeojson(geo, properties) {\n        var nodes = '',\n            ways = '',\n            relations = '';\n        properties = properties || {};\n\n        switch (geo.type) {\n            case 'Point':\n                var coord = roundCoords([geo.coordinates]);\n                nodes += '<node id=\"' + count + '\" lat=\"' + coord[0][1] +\n                '\" lon=\"' + coord[0][0] + '\" changeset=\"' + changeset + '\">';\n                nodes += propertiesToTags(properties);\n                nodes += '</node>';\n                count--;\n                break;\n\n            case 'MultiPoint':\n                break;\n            case 'LineString':\n                break;\n            case 'MultiLineString':\n                break;\n            case 'Polygon':\n                append(polygon(geo, properties));\n                break;\n\n            case 'MultiPolygon':\n                relations += '<relation id=\"' + count + '\" changeset=\"' + changeset + '\">';\n                properties.type = 'multipolygon';\n                count--;\n\n                for (var i = 0; i < geo.coordinates.length; i++){\n\n                    poly = polygon({\n                        'coordinates': geo.coordinates[i]\n                    }, undefined, true);\n\n                    nodes += poly.nodes;\n                    ways += poly.ways;\n                    relations += poly.relations;\n                }\n\n                relations += propertiesToTags(properties);\n                relations += '</relation>';\n                break;\n        }\n\n        function append(obj) {\n            nodes += obj.nodes;\n            ways += obj.ways;\n            relations += obj.relations;\n        }\n\n        osm = '<?xml version=\"1.0\" encoding=\"UTF-8\"?><osm version=\"0.6\" generator=\"github.com/aaronlidman/osm-and-geojson\">' +\n        nodes + ways + relations + '</osm>';\n        if (osmChange) {\n            osm = '<osmChange version=\"0.6\" generator=\"github.com/aaronlidman/osm-and-geojson\"><create>' +\n            nodes + ways + relations + '</create></osmChange>';\n        }\n\n        return {\n            nodes: nodes,\n            ways: ways,\n            relations: relations,\n            osm: osm\n        };\n    }\n\n    function polygon(geo, properties, multipolygon) {\n        var nodes = '',\n            ways = '',\n            relations = '',\n            role = '';\n        properties = properties || {};\n        multipolygon = multipolygon || false;\n\n        var coords = [];\n        if (geo.coordinates.length > 1) {\n            // polygon with holes -> multipolygon\n            if (!multipolygon) relations += '<relation id=\"' + count + '\" changeset=\"' + changeset +'\">';\n            count--;\n            properties.type = 'multipolygon';\n\n            for (var i = 0; i < geo.coordinates.length; i++) {\n\n                role = ((i === 0) ? 'outer' : 'inner');\n\n                relations += '<member type=\"way\" ref=\"' + count + '\" role=\"' + role + '\"/>';\n                ways += '<way id=\"' + count + '\" changeset=\"' + changeset + '\">';\n                count--;\n                for (var a = 0; a < geo.coordinates[i].length-1; a++) {\n                    coords.push([geo.coordinates[i][a][1], geo.coordinates[i][a][0]]);\n                }\n                coords = createNodes(coords, true);\n                nodes += coords.nodes;\n                ways += coords.nds;\n                ways += '</way>';\n                coords = [];\n            }\n\n            if (!multipolygon) {\n                relations += propertiesToTags(properties);\n                relations += '</relation>';\n            }\n        } else {\n            // polygon -> way\n            ways += '<way id=\"' + count + '\" changeset=\"' + changeset + '\">';\n            if (multipolygon) relations += '<member type=\"way\" ref=\"' + count + '\" role=\"outer\"/>';\n            count--;\n            for (var j = 0; j < geo.coordinates[0].length-1; j++) {\n                coords.push([geo.coordinates[0][j][1], geo.coordinates[0][j][0]]);\n            }\n            coords = createNodes(coords, true);\n            nodes += coords.nodes;\n            ways += coords.nds;\n            ways += propertiesToTags(properties);\n            ways += '</way>';\n        }\n\n        return {\n            nodes: nodes,\n            ways: ways,\n            relations: relations\n        };\n    }\n\n    function propertiesToTags(properties) {\n        var tags = '';\n        for (var tag in properties) {\n            if (properties[tag] !== null) {\n                tags += '<tag k=\"' + tag + '\" v=\"' + properties[tag] + '\"/>';\n            }\n        }\n        return tags;\n    }\n\n    function roundCoords(coords){\n        for (var a = 0; a < coords.length; a++) {\n            coords[a][0] = Math.round(coords[a][0] * 1000000) / 1000000;\n            coords[a][1] = Math.round(coords[a][1] * 1000000) / 1000000;\n        }\n        return coords;\n    }\n\n    function createNodes(coords, repeatLastND) {\n        var nds = '',\n            nodes = '',\n            length = coords.length;\n        repeatLastND = repeatLastND || false;\n            // for polygons\n\n        coords = roundCoords(coords);\n\n        for (var a = 0; a < length; a++) {\n            if (repeatLastND && a === 0) repeatLastND = count;\n\n            nds += '<nd ref=\"' + count + '\"/>';\n            nodes += '<node id=\"' + count + '\" lat=\"' + coords[a][0] +'\" lon=\"' + coords[a][1] +\n            '\" changeset=\"' + changeset + '\"/>';\n\n            if (repeatLastND && a === length-1) nds += '<nd ref=\"' + repeatLastND + '\"/>';\n            count--;\n        }\n        return {'nds': nds, 'nodes': nodes};\n    }\n\n    if (typeof geo === 'string') geo = JSON.parse(geo);\n\n    var obj,\n        count = -1;\n    changeset = changeset || false;\n\n    switch (geo.type) {\n        case 'FeatureCollection':\n            var temp = {\n                nodes: '',\n                ways: '',\n                relations: ''\n            };\n            obj = [];\n            for (var i = 0; i < geo.features.length; i++){\n                obj.push(togeojson(geo.features[i].geometry, geo.features[i].properties));\n            }\n            temp.osm = '<?xml version=\"1.0\" encoding=\"UTF-8\"?><osm version=\"0.6\" generator=\"github.com/aaronlidman/osm-and-geojson\">';\n            if (osmChange) temp.osm = '<osmChange version=\"0.6\" generator=\"github.com/aaronlidman/osm-and-geojson\"><create>';\n            for (var n = 0; n < obj.length; n++) {\n                temp.nodes += obj[n].nodes;\n                temp.ways += obj[n].ways;\n                temp.relations += obj[n].relations;\n            }\n            temp.osm += temp.nodes + temp.ways + temp.relations;\n            if (osmChange) {\n                temp.osm += '</create></osmChange>';\n            } else {\n                temp.osm += '</osm>';\n            }\n            obj = temp.osm;\n            break;\n\n        case 'GeometryCollection':\n            obj = [];\n            for (var j = 0; j < geo.geometries.length; j++){\n                obj.push(togeojson(geo.geometries[j]));\n            }\n            break;\n\n        case 'Feature':\n            obj = togeojson(geo.geometry, geo.properties);\n            obj = obj.osm;\n            break;\n\n        case 'Point':\n        case 'MultiPoint':\n        case 'LineString':\n        case 'MultiLineString':\n        case 'Polygon':\n        case 'MultiPolygon':\n            obj = togeojson(geo);\n            obj = obj.osm;\n            break;\n\n        default:\n            if (console) console.log('Invalid GeoJSON object: GeoJSON object must be one of \\\"Point\\\", \\\"LineString\\\", ' +\n                '\\\"Polygon\\\", \\\"MultiPolygon\\\", \\\"Feature\\\", \\\"FeatureCollection\\\" or \\\"GeometryCollection\\\".');\n    }\n\n    return obj;\n};\n\nosm_geojson.osm2geojson = function(osm, metaProperties) {\n\n    var xml = parse(osm),\n        usedCoords = {},\n        nodeCache = cacheNodes(),\n        wayCache = cacheWays();\n\n    return Bounds({\n        type : 'FeatureCollection',\n        features : []\n            .concat(Ways(wayCache))\n            .concat(Ways(Relations))\n            .concat(Points(nodeCache))\n    }, xml);\n\n    function parse(xml) {\n        if (typeof xml !== 'string') return xml;\n        return (new DOMParser()).parseFromString(xml, 'text/xml');\n    }\n\n    function Bounds(geo, xml) {\n        var bounds = getBy(xml, 'bounds');\n        if (!bounds.length) return geo;\n        geo.bbox = [\n            attrf(bounds[0], 'minlon'),\n            attrf(bounds[0], 'minlat'),\n            attrf(bounds[0], 'maxlon'),\n            attrf(bounds[0], 'maxlat')\n        ];\n        return geo;\n    }\n\n    function setProperties(element) {\n        if (!element) return {};\n\n        var props = {},\n            tags = element.getElementsByTagName('tag'),\n            tags_length = tags.length;\n\n        for (var t = 0; t < tags_length; t++) {\n            props[attr(tags[t], 'k')] = isNumber(attr(tags[t], 'v')) ?\n                parseFloat(attr(tags[t], 'v')) : attr(tags[t], 'v');\n        }\n\n        if (metaProperties) {\n            setIf(element, 'id', props, 'osm_id');\n            setIf(element, 'user', props, 'osm_lastEditor');\n            setIf(element, 'version', props, 'osm_version', true);\n            setIf(element, 'changeset', props, 'osm_lastChangeset', true);\n            setIf(element, 'timestamp', props, 'osm_lastEdited');\n        }\n\n        return sortObject(props);\n    }\n\n    function getFeature(element, type, coordinates) {\n        return {\n            geometry: {\n                type: type,\n                coordinates: coordinates || []\n            },\n            type: 'Feature',\n            properties: setProperties(element)\n        };\n    }\n\n    function cacheNodes() {\n        var nodes = getBy(xml, 'node'),\n            coords = {};\n\n        for (var n = 0; n < nodes.length; n++) {\n            coords[attr(nodes[n], 'id')] = nodes[n];\n        }\n\n        return coords;\n    }\n\n    function Points(nodeCache) {\n        var points = nodeCache,\n            features = [];\n\n        for (var node in nodeCache) {\n            var tags = getBy(nodeCache[node], 'tag');\n            if (!usedCoords[node] || tags.length)\n                features.push(getFeature(nodeCache[node], 'Point', lonLat(nodeCache[node])));\n        }\n\n        return features;\n    }\n\n    function cacheWays() {\n        var ways = getBy(xml, 'way'),\n            out = {};\n\n        for (var w = 0; w < ways.length; w++) {\n            var feature = {},\n                nds = getBy(ways[w], 'nd');\n\n            if (attr(nds[0], 'ref') === attr(nds[nds.length - 1], 'ref')) {\n                feature = getFeature(ways[w], 'Polygon', [[]]);\n            } else {\n                feature = getFeature(ways[w], 'LineString');\n            }\n\n            for (var n = 0; n < nds.length; n++) {\n                var node = nodeCache[attr(nds[n], 'ref')];\n                if (node) {\n                    var cords = lonLat(node);\n                    usedCoords[attr(nds[n], 'ref')] = true;\n                    if (feature.geometry.type === 'Polygon') {\n                        feature.geometry.coordinates[0].push(cords);\n                    } else {\n                        feature.geometry.coordinates.push(cords);\n                    }\n                }\n            }\n\n            out[attr(ways[w], 'id')] = feature;\n        }\n\n        return out;\n    }\n\n    function Relations() {\n        var relations = getBy(xml, 'relation'),\n            relations_length = relations.length,\n            features = [];\n\n        for (var r = 0; r < relations_length; r++) {\n            var feature = getFeature(relations[r], 'MultiPolygon');\n\n            if (feature.properties.type == 'multipolygon') {\n                var members = getBy(relations[r], 'member');\n\n                // osm doesn't keep roles in order, so we do this twice\n                for (var m = 0; m < members.length; m++) {\n                    if (attr(members[m], 'role') == 'outer') assignWay(members[m], feature);\n                }\n\n                for (var n = 0; n < members.length; n++) {\n                    if (attr(members[n], 'role') == 'inner') assignWay(members[n], feature);\n                }\n\n                delete feature.properties.type;\n            } else {\n                // http://taginfo.openstreetmap.us/relations\n            }\n\n            if (feature.geometry.coordinates.length) features.push(feature);\n        }\n\n        return features;\n\n        function assignWay(member, feature) {\n            var ref = attr(member, 'ref'),\n                way = wayCache[ref];\n\n            if (way && way.geometry.type == 'Polygon') {\n                if (way && attr(member, 'role') == 'outer') {\n                    feature.geometry.coordinates.push(way.geometry.coordinates);\n                    if (way.properties) {\n                        // exterior polygon properties can move to the multipolygon\n                        // but multipolygon (relation) tags take precedence\n                        for (var prop in way.properties) {\n                            if (!feature.properties[prop]) {\n                                feature.properties[prop] = prop;\n                            }\n                        }\n                    }\n                } else if (way && attr(member, 'role') == 'inner'){\n                    if (feature.geometry.coordinates.length > 1) {\n                        // do a point in polygon against each outer\n                        // this determines which outer the inner goes with\n                        for (var a = 0; a < feature.geometry.coordinates.length; a++) {\n                            if (pointInPolygon(\n                                way.geometry.coordinates[0][0],\n                                feature.geometry.coordinates[a][0])) {\n                                feature.geometry.coordinates[a].push(way.geometry.coordinates[0]);\n                                break;\n                            }\n                        }\n                    } else {\n                        if (feature.geometry.coordinates.length) {\n                            feature.geometry.coordinates[0].push(way.geometry.coordinates[0]);\n                        }\n                    }\n                }\n            }\n\n            wayCache[ref] = false;\n        }\n    }\n\n    function Ways(wayCache) {\n        var features = [];\n        for (var w in wayCache) if (wayCache[w]) features.push(wayCache[w]);\n        return features;\n    }\n\n    // https://github.com/substack/point-in-polygon/blob/master/index.js\n    function pointInPolygon(point, vs) {\n        var x = point[0], y = point[1];\n        var inside = false;\n        for (var i = 0, j = vs.length - 1; i < vs.length; j = i++) {\n            var xi = vs[i][0], yi = vs[i][1],\n                xj = vs[j][0], yj = vs[j][1],\n                intersect = ((yi > y) != (yj > y)) &&\n                (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n            if (intersect) inside = !inside;\n        }\n        return inside;\n    }\n\n    // http://stackoverflow.com/a/1359808\n    function sortObject(o) {\n        var sorted = {}, key, a = [];\n        for (key in o) if (o.hasOwnProperty(key)) a.push(key);\n        a.sort();\n        for (key = 0; key < a.length; key++) sorted[a[key]] = o[a[key]];\n        return sorted;\n    }\n\n    // http://stackoverflow.com/a/1830844\n    function isNumber(n) { return !isNaN(parseFloat(n)) && isFinite(n); }\n    function attr(x, y) { return x.getAttribute(y); }\n    function attrf(x, y) { return parseFloat(x.getAttribute(y)); }\n    function getBy(x, y) { return x.getElementsByTagName(y); }\n    function lonLat(elem) { return [attrf(elem, 'lon'), attrf(elem, 'lat')]; }\n    function setIf(x, y, o, name, f) {\n        if (attr(x, y)) o[name] = f ? parseFloat(attr(x, y)) : attr(x, y);\n    }\n};\n\nif (typeof module !== 'undefined') module.exports = osm_geojson;\n","var geojsontoosm = require(\"geojsontoosm\");\nvar osm_geojson = require(\"osm-and-geojson\");\n\nmapboxgl.accessToken =\n  \"pk.eyJ1IjoicGxhbmVtYWQiLCJhIjoiY2l2eDhnNzNpMDAwNzJ5cGowcnpiMXJkdyJ9.NljuPglsRA3mTGf-4CLIEg\";\nconst map = new mapboxgl.Map({\n  container: \"map\", // container ID\n  style: \"mapbox://styles/planemad/cknj1leps0ywv17lrj8d16vnj\", // style URL\n  center: [76, 28], // starting position [lng, lat]\n  zoom: 9, // starting zoom\n  hash: true\n});\n\n// Add the control to the map.\nmap.addControl(new mapboxgl.NavigationControl());\nmap.addControl(\n  new MapboxGeocoder({\n    accessToken: mapboxgl.accessToken,\n    mapboxgl: mapboxgl,\n    countries: \"in\",\n  })\n);\n\n// Convert tile features as OSM XML\n\nmap.on(\"click\", (e) => {\n  if (map.getZoom() >= 10) {\n    // Find all features in one source layer in a vector source\n    const features = map.querySourceFeatures(\"composite\", {\n      sourceLayer: \"geosadak_road_diff\",\n    });\n\n    const geojson = {\n      type: \"FeatureCollection\",\n      features: features,\n    };\n    const osm_xml = geojsontoosm(geojson);\n\n    function download(filename, text) {\n      var element = document.createElement(\"a\");\n      element.setAttribute(\n        \"href\",\n        \"data:text/plain;charset=utf-8,\" + encodeURIComponent(text)\n      );\n      element.setAttribute(\"download\", filename);\n\n      element.style.display = \"none\";\n      document.body.appendChild(element);\n\n      element.click();\n\n      document.body.removeChild(element);\n    }\n\n    download(\"geosadak_diff.osm\", osm_xml);\n\n    // window.open(`http://127.0.0.1:8111/load_data?new_layer=true&layer_name=geosadak&mime_type=application/x-osm+xml&data=\"${enc_osm_xml}\"`, '_blank');\n  }\n});\n"],"names":["root","factory","$6fed6c47d074bc66$var$getNodeHash","coords","JSON","stringify","$6fed6c47d074bc66$var$emptyNode","coordinates","properties","tags","lat","lon","$6fed6c47d074bc66$var$processLineString","ways","nodes","nodesIndex","way","push","forEach","point","node","hash","$6fed6c47d074bc66$var$processMultiPolygon","relations","length","relation","members","polygon","ring","index","elem","type","role","$f54c805e2b977680$exports","xmlDom","parserErrorHandler","DOMParser","sValProp","sAttrProp","sAttrsPref","sLowCase","sEmptyTrue","sAutoDate","sIgnorePrefixed","sParseValues","aCache","rIsNull","rIsBool","parseText","sValue","test","toLowerCase","isFinite","parseFloat","Date","parse","EmptyTree","createObjTree","oParentNode","nVerb","bFreeze","bNesteAttr","sProp","vContent","nLevelStart","bChildren","hasChildNodes","bAttributes","nodeType","ELEMENT_NODE","hasAttributes","bHighVerb","Boolean","nLength","sCollectedTxt","vResult","oNode","nItem","childNodes","item","nodeValue","trim","prefix","vValue","nLevelEnd","vBuiltVal","Object","constructor","nElId","nodeName","hasOwnProperty","Array","oAttrib","oAttribName","nAttrLen","attributes","sAPrefix","oAttrParent","nAttrib","name","value","freeze","loadObjTree","oXMLDoc","oParentEl","oParentObj","oChild","String","Number","appendChild","createTextNode","toString","valueOf","toGMTString","sName","Function","sAttrib","setAttribute","charAt","slice","createElementNS","namespaceURI","prototype","this","xmlToJs","build","oXMLParent","nVerbosity","bNesteAttributes","_nVerb","arguments","jsToXml","unbuild","oObjTree","sNamespaceURI","sQualifiedName","oDocumentType","oNewDoc","document","implementation","DOMImplementation","createDocument","documentElement","config","o","valueKey","attrKey","attrPrefix","lowerCaseTags","trueIsEmpty","autoDate","ignorePrefixNodes","parseValues","k","ignorePrefixedNodes","errorHandler","locator","stringToXml","xmlStr","parseFromString","xmlToString","xmlObj","xml","XMLSerializer","serializeToString","stringToJs","str","jsToString","define","amd","window","parcelRequire","JXON","$6fed6c47d074bc66$exports","geojson","features","feature","geometry","$6fed6c47d074bc66$var$processPoint","console","error","lastNodeId","lastWayId","lastRelationId","jxonTags","res","jxonData","osm","map","id","tag","nd","member","$2e3c14d1ec752030$var$osm_geojson","geo1","changeset","osmChange","togeojson","geo","obj","coord","roundCoords","count","propertiesToTags","i","poly","undefined","multipolygon","a","createNodes","nds","j","Math","round","repeatLastND","obj1","temp","i1","n","j1","geometries","log","metaProperties","xml1","usedCoords","nodeCache1","getBy","attr","cacheNodes","wayCache1","out","w","getFeature","cords","lonLat","cacheWays","setProperties","element","props","getElementsByTagName","tags_length","t","isNaN","setIf","key","sorted","sort","sortObject","Ways","wayCache","pointInPolygon","vs","x","y","inside","xi","yi","xj","yj","getAttribute","attrf","f","bounds","bbox","Bounds","concat","relations_length","r","m","assignWay","ref","prop","nodeCache","Points","mapboxgl","accessToken","$892d7dc6dbc410a5$var$map","Map","container","style","center","zoom","addControl","NavigationControl","MapboxGeocoder","countries","on","e","getZoom","querySourceFeatures","sourceLayer","osm_xml","filename","text","createElement","encodeURIComponent","display","body","click","removeChild"],"version":3,"file":"map.0124ab0b.js.map"}